# HLD 审查检查清单

本清单用于第二道门「核心技术审查」，由 Tech Lead + Senior Engineer 视角执行。

---

## 使用说明

- ✅ 通过：该项检查无问题
- ⚠️ 待改进：有小问题，建议修复（P2）
- ❌ 不通过：有严重问题，必须修复（P0/P1）
- N/A：不适用于本 HLD

**证据要求**：每个检查项的结论都必须指向 HLD 中的具体位置（章节、行号）。

---

## 1. 结构完整性检查

### 1.1 必需章节检查

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否包含 PRD↔HLD 需求映射表？ | | | |
| 是否标注 PRD 基线版本？ | | | |
| 是否包含架构设计章节？ | | | |
| 是否包含接口设计章节（如适用）？ | | | |
| 是否包含数据设计章节（如适用）？ | | | |
| 是否包含非功能设计章节？ | | | |
| 是否包含发布策略章节？ | | | |
| 是否包含风险与缓解章节？ | | | |

### 1.2 元数据检查

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 文档版本是否标注？ | | | |
| 作者是否标注？ | | | |
| 最后更新日期是否标注？ | | | |
| PRD 基线版本是否标注？ | | | |
| PRD 最后同步日期是否标注？ | | | |

---

## 2. 架构设计审查

### 2.1 架构决策

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 架构选型是否有明确依据？ | | | |
| 是否分析了替代方案？ | | | |
| 选型理由是否充分？ | | | |
| 架构图是否清晰完整？ | | | |
| 组件职责是否明确？ | | | |
| 组件间交互是否清晰？ | | | |

### 2.2 技术栈对齐

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否符合项目/团队技术栈？ | | | |
| 如有偏离，是否有充分理由？ | | | |
| 新引入的技术是否经过评估？ | | | |
| 团队是否有能力维护？ | | | |

### 2.3 复用盘点

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否识别了可复用的现有组件？ | | | |
| 复用决策是否有来源证据？ | | | |
| 不复用的理由是否充分？ | | | |
| 是否避免了重复造轮子？ | | | |

**复用盘点表检查**：
```markdown
期望格式：
| 候选组件 | 来源 | 评估结论 | 理由 |
|----------|------|----------|------|
| 用户服务 | 用户中心 | 复用 | 满足需求 |
| 缓存组件 | 基础架构 | 不复用 | 不支持分布式 |
```

---

## 3. 接口设计审查

### 3.1 接口完整性

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否覆盖所有功能需求？ | | | |
| 接口契约是否清晰？ | | | |
| 请求/响应格式是否明确？ | | | |
| 错误码设计是否完整？ | | | |

### 3.2 接口规范

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否引用或遵循已有 API 规范？ | | | |
| 命名是否符合项目规范？ | | | |
| 版本策略是否明确？ | | | |

---

## 4. 数据设计审查

### 4.1 数据模型

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 核心实体是否识别完整？ | | | |
| 实体关系是否清晰？ | | | |
| 是否为概念级设计（非字段级）？ | | | |

### 4.2 数据策略

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 数据存储选型是否合理？ | | | |
| 数据生命周期是否考虑？ | | | |
| 数据备份策略是否明确？ | | | |

---

## 5. 兼容性设计审查

### 5.1 接口兼容性

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否考虑向后兼容？ | | | |
| 破坏性变更是否有迁移方案？ | | | |
| 版本升级策略是否明确？ | | | |

### 5.2 数据兼容性

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| Schema 变更是否有迁移方案？ | | | |
| 历史数据如何处理？ | | | |
| 是否支持回滚？ | | | |

---

## 6. 发布策略审查

### 6.1 灰度发布

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否有灰度发布方案？ | | | |
| 灰度范围是否合理？ | | | |
| 灰度指标是否明确？ | | | |

### 6.2 回滚方案

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否有回滚方案？ | | | |
| 回滚步骤是否明确？ | | | |
| 回滚影响是否评估？ | | | |
| 回滚时间预估是否合理？ | | | |

### 6.3 功能开关

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否需要功能开关？ | | | |
| 功能开关设计是否合理？ | | | |
| 开关清理计划是否明确？ | | | |

---

## 7. 可观测性设计审查

### 7.1 监控设计

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 核心监控指标是否定义？ | | | |
| 是否能支撑 PRD 成功指标？ | | | |
| 指标采集方案是否明确？ | | | |

### 7.2 告警设计

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 告警规则是否定义？ | | | |
| 告警阈值是否合理？ | | | |
| 告警升级策略是否明确？ | | | |

### 7.3 日志设计

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 关键操作是否有日志？ | | | |
| 日志级别是否合理？ | | | |
| 日志格式是否规范？ | | | |
| 敏感信息是否脱敏？ | | | |

### 7.4 链路追踪

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否支持链路追踪？ | | | |
| TraceID 传递是否完整？ | | | |

---

## 8. 风险识别审查

### 8.1 风险识别

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否识别了主要风险？ | | | |
| 风险评估是否合理？ | | | |
| 是否有遗漏的明显风险？ | | | |

### 8.2 缓解措施

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 每个风险是否有缓解措施？ | | | |
| 缓解措施是否可行？ | | | |
| 是否有应急预案？ | | | |

---

## 9. 设计一致性审查

### 9.1 内部一致性

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 术语使用是否前后一致？ | | | |
| 设计描述是否有内部矛盾？ | | | |
| 图表与文字是否一致？ | | | |

### 9.2 外部一致性

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 是否符合公司架构规范？ | | | |
| 是否符合团队编码规范？ | | | |
| 是否与现有系统设计一致？ | | | |

---

## 10. 可测试性审查

| 检查项 | 状态 | 证据位置 | 备注 |
|--------|------|----------|------|
| 设计是否便于单元测试？ | | | |
| 设计是否便于集成测试？ | | | |
| 是否有难以测试的部分？ | | | |
| 测试策略是否可行？ | | | |

---

## 检查结果汇总

### 统计

| 类别 | ✅ 通过 | ⚠️ 待改进 | ❌ 不通过 | N/A |
|------|---------|-----------|-----------|-----|
| 结构完整性 | | | | |
| 架构设计 | | | | |
| 接口设计 | | | | |
| 数据设计 | | | | |
| 兼容性设计 | | | | |
| 发布策略 | | | | |
| 可观测性 | | | | |
| 风险识别 | | | | |
| 设计一致性 | | | | |
| 可测试性 | | | | |
| **总计** | | | | |

### 关键发现

**P0 阻塞问题**：
1. [描述] - [证据位置]
2. ...

**P1 严重问题**：
1. [描述] - [证据位置]
2. ...

**P2 建议改进**：
1. [描述] - [证据位置]
2. ...

**P2 总数**：__（准出要求 ≤ 2）

### 审查结论

- [ ] ✅ 通过（准出）：P0 = 0、P1 = 0、P2 ≤ 2
- [ ] ❌ 不通过：任一 P0/P1 或 P2 > 2
